{% extends '/core/home.jinja2' %}

{% block content %}
    {% block subcontent %}
    {% endblock %}
    <section class="profile-options-flex">
        <div class="container">

            {# FIXME: maybe this can be improved #}
            <link rel="stylesheet" href="/static/css/profile.css">
            <link rel="stylesheet" href="/static/css/repository-list.css">

            {% if profile %}
                {{_("Your Exhibits")}}
                    {% if exhibits %}
                        {% with editable=True, repository_list = exhibits, element_type="exhibit"%}
                            {% include "users/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no exhibits :c")}}</p>
                            <a href="{{ url('create-exhibit') }}">{{ _('Create') }}</a>
                        </section>
                    {% endif %}
                {{_("Your Artworks")}}
                    {% if artworks %}
                        {% with editable=True, repository_list = artworks, element_type="artwork" %}
                            {% include "users/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no artworks :c")}}</p>
                            <a href="{{ url('create-artwork') }}">{{ _('Create') }}</a>
                        </section>               
                    {% endif %}
                {{_("Your Markers")}}
                    {% if markers %}
                        {% with repository_list = markers, element_type="marker"%}
                            {% include "users/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no markers :c")}}</p>
                            <a href="{{ url('marker-upload') }}">{{ _('Create') }}</a>
                        </section>
                    {% endif %}
                {{_("Your Objects")}}
                    {% if objects %}
                        {% with repository_list = objects, element_type="object" %}
                            {% include "users/components/item-list.jinja2" %}
                        {% endwith%}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no objects :c")}}</p>
                            <a href="{{ url('object-upload') }}">{{ _('create') }}</a>
                        </section>
                    {% endif %}
                {% include "users/components/elements-modal.jinja2" %}
            {% endif %}

            <section class="userbox flex">
                <div class="countMrk one-third">No uploads yet.</div>
                <div class="countObj one-third">No uploads yet.</div>
                <div class="editProf one-third">
                    <a class="option-link" href="{{ url('edit-profile')}}">{{ _('Edit personal info') }}</a>
                </div>
                <div class="bdgArt half"><b>No artworks yet.</b></br>Create your first!</div>
                <div class="bdgCur half"><b>No exhibitions yet.</b></br>Create your first!</div>
            </section>

            <section class="createbox flex">
                <div class="upload">
                    <a class="option-link upMrk" href="{{ url('marker-upload') }}">{{ _('Upload marker') }}</a>
                    <a class="option-link upObj" href="{{ url('object-upload') }}">{{ _('Upload object') }}</a>
                </div>
                <div class="createArtwork">
                    <a class="option-link creArt" href="{{ url('create-artwork') }}">{{ _('Create Jandig artwork') }}</a>
                </div>
                <div class="createExhibition">
                    <a class="option-link creExh" href="{{ url('create-exhibit') }}">{{ _('Create exhibition') }}</a>
                </div>
            </section>

            <section class="account-options flex">
                <a href="{{ url('logout') }}"> {{ _('Log out') }} | </a>
                <a href="#"> {{ _('Remove account') }}</a>
            </section>
        </div>
    </section>
{% endblock %}